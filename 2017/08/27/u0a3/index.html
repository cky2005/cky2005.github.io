<!-- build time:Fri Sep 29 2017 01:00:03 GMT+0800 (中国标准时间) --><!DOCTYPE HTML><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><div class="r_menu"><a href="/index.html"><i class="icon-home icon-2x"></i></a></div><style type="text/css">a:hover{text-decoration:underline;color:#C20C0C}#squ-side{width:70px;height:auto;margin:0;position:fixed;background:0 0;z-index:999999;overflow:hidden;top:50%;left:-40px;-webkit-transition:.5s ease-in-out;-moz-transition:.5s ease-in-out;-o-transition:.5s ease-in-out}.squ-sidec{float:left;width:30px;border:2px solid #ccc;border-radius:.5em .5em .5em .5em;box-shadow:0 5px 5px #565656;-webkit-box-shadow:0 5px 5px #565656;-moz-box-shadow:0 5px 5px #565656;-o-box-shadow:0 5px 5px #565656}.squ-sideb{float:right;width:25px}.squ-sideb .b{width:22px;height:20px;border-radius:50%;text-align:center;box-shadow:0 5px 5px #565656;-webkit-box-shadow:0 5px 5px #565656;-moz-box-shadow:0 5px 5px #565656;-o-box-shadow:0 5px 5px #565656}#squ-side:hover{left:0}#squ-side:hover .squ-sideb .b{opacity:0;filter:alpha(opacity=0)}</style><div id="squ-side"><div class="squ-sidec"><div style="text-align:left"><a href="https://www.weibo.com"><i class="icon-weibo icon-2x"></i></a><br><a href="https://www.tumblr.com"><i class="icon-tumblr icon-2x"></i></a><br><a href="https://www.twitter.com"><i class="icon-twitter-sign icon-2x"></i></a><br><a href="/about/index.html"><i class="icon-tags icon-2x"></i></a></div></div><div class="squ-sideb"><div class="b">?</div></div></div><title>解决Hexo置顶问题 | 唔多阁</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="author" content="(^_^)"><meta name="description" content="只需要在front-matter中设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序。（大的在前面）"><meta name="description" content="只需要在front-matter中设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序。（大的在前面）"><meta name="keywords" content="hexo"><meta property="og:type" content="article"><meta property="og:title" content="解决Hexo置顶问题"><meta property="og:url" content="https://www.233666.org/2017/08/27/u0a3/index.html"><meta property="og:site_name" content="唔多阁"><meta property="og:description" content="只需要在front-matter中设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序。（大的在前面）"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2017-08-27T12:31:54.464Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="解决Hexo置顶问题"><meta name="twitter:description" content="只需要在front-matter中设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序。（大的在前面）"><link rel="icon" type="image/x-icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"></head></html><body><div class="wrapper"><header id="header"><div class="title"><h1><a href="/">唔多阁</a></h1><p><a href="/">(学习笔记,备忘,纯属复制粘贴,无技术含量)</a></p></div><nav class="nav"><ul></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div class="content"><article class="post"><header><div class="icon"></div><a href="/2017/08/27/u0a3/"><time datetime="2017-08-27T12:27:00.000Z">2017-08-27</time></a><h1 class="title">解决Hexo置顶问题</h1></header><div class="entry"><p>只需要在front-matter中设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序。（大的在前面）<a id="more"></a><br>修改<code>node_modules/hexo-generator-index/lib/generator.js</code><br></p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">'use strict';</div><div class="line">var pagination = require('hexo-pagination');</div><div class="line">module.exports = function(locals)&#123;</div><div class="line">  var config = this.config;</div><div class="line">  var posts = locals.posts;</div><div class="line">    posts.data = posts.data.sort(function(a, b) &#123;</div><div class="line">        if(a.top &amp;&amp; b.top) &#123; // 两篇文章top都有定义</div><div class="line">            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排</div><div class="line">            else return b.top - a.top; // 否则按照top值降序排</div><div class="line">        &#125;</div><div class="line">        else if(a.top &amp;&amp; !b.top) &#123; // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</div><div class="line">            return -1;</div><div class="line">        &#125;</div><div class="line">        else if(!a.top &amp;&amp; b.top) &#123;</div><div class="line">            return 1;</div><div class="line">        &#125;</div><div class="line">        else return b.date - a.date; // 都没定义按照文章日期降序排</div><div class="line">    &#125;);</div><div class="line">  var paginationDir = config.pagination_dir || 'page';</div><div class="line">  return pagination('', posts, &#123;</div><div class="line">    perPage: config.index_generator.per_page,</div><div class="line">    layout: ['index', 'archive'],</div><div class="line">    format: paginationDir + '/%d/',</div><div class="line">    data: &#123;</div><div class="line">      __index: true</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure><p></p><p>使用方法:在.md文件内容前面的front-matter加入top=xxx<br></p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">---</div><div class="line">title: xxxx</div><div class="line">date: 2017-08-01 10:56:00</div><div class="line">tags: vps</div><div class="line">top: 1000</div><div class="line">comments: ture</div><div class="line">---</div></pre></td></tr></table></figure><p></p><p><a href="http://www.netcan666.com/2015/11/22/%E8%A7%A3%E5%86%B3Hexo%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/" target="_blank" rel="external">来源</a></p></div><footer><div class="tags"><a class="tags-link" href="/tags/hexo/">hexo</a></div><div class="clearfix"></div></footer></article></div></div><footer id="footer"><div class="copyright">&copy; 2017 <a href="/">(^_^)</a></div><div class="theme-copyright">Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a> | Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a></div><div class="clearfix"></div></footer><script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script><script src="/js/all.js"></script></body><!-- rebuild by neat -->