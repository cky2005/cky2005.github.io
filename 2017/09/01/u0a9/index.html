<!-- build time:Thu Sep 21 2017 01:49:30 GMT+0800 (中国标准时间) --><!DOCTYPE HTML><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><title>Linux 命令技巧 | 无名小站</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="author" content="(^_^)"><meta name="description" content="转换密匙crt&amp;amp;key为PEM格式"><meta name="description" content="转换密匙crt&amp;amp;key为PEM格式"><meta property="og:type" content="article"><meta property="og:title" content="Linux 命令技巧"><meta property="og:url" content="https://kai2018.ml/2017/09/01/u0a9/index.html"><meta property="og:site_name" content="无名小站"><meta property="og:description" content="转换密匙crt&amp;amp;key为PEM格式"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2017-09-20T17:30:28.296Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux 命令技巧"><meta name="twitter:description" content="转换密匙crt&amp;amp;key为PEM格式"><link rel="icon" type="image/x-icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"></head></html><body><div class="wrapper"><header id="header"><div class="title"><h1><a href="/">无名小站</a></h1><p><a href="/">缘来系你(学习笔记,备忘,纯属复制粘贴,无技术含量)</a></p></div><nav class="nav"><ul><li><a href="/">首页</a></li><li><a href="/about">档案</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div class="content"><article class="post"><header><div class="icon"></div><a href="/2017/09/01/u0a9/"><time datetime="2017-09-01T10:50:00.000Z">2017-09-01</time></a><h1 class="title">Linux 命令技巧</h1></header><div class="entry"><h4 id="转换密匙crt-amp-key为PEM格式"><a href="#转换密匙crt-amp-key为PEM格式" class="headerlink" title="转换密匙crt&amp;key为PEM格式"></a>转换密匙crt&amp;key为PEM格式</h4><a id="more"></a><p>先转换为p12,再将p12转换为pem<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">openssl pkcs12 -export -in hostname.crt -inkey hostname.key -out hostname.p12</div><div class="line">openssl pkcs12 -in hostname.p12 -nodes -out hostname.pem</div></pre></td></tr></table></figure><p></p><p>貌似简单点的直接合拼两个文件(base64编码)在某些环境下也可以<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">cat hostname.crt hostname.key &gt;hostname.pem</div></pre></td></tr></table></figure><p></p><hr><h4 id="删除一个大文件"><a href="#删除一个大文件" class="headerlink" title="删除一个大文件"></a>删除一个大文件</h4><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">&gt; /path/to/file.log</div><div class="line"><span class="comment"># 或</span></div><div class="line">: &gt; /path/to/file.log</div><div class="line"><span class="comment"># 然后删除它</span></div><div class="line">rm /path/to/file.log</div></pre></td></tr></table></figure><h4 id="还原被删除的-tmp-文件夹"><a href="#还原被删除的-tmp-文件夹" class="headerlink" title="还原被删除的 /tmp 文件夹"></a>还原被删除的 /tmp 文件夹</h4><figure class="highlight php"><table><tr><td class="code"><pre><div class="line">mkdir /tmp</div><div class="line">chmod <span class="number">1777</span> /tmp</div><div class="line">chown root:root /tmp</div><div class="line">ls -ld /tmp</div></pre></td></tr></table></figure><h4 id="锁定一个文件夹"><a href="#锁定一个文件夹" class="headerlink" title="锁定一个文件夹"></a>锁定一个文件夹</h4><p>为了我的数据隐私，我想要锁定我文件服务器下的/downloads文件夹。因此我运行了：<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">chmod 0000 /downloads</div></pre></td></tr></table></figure><p></p><p>root用户仍旧可以访问，而ls和cd命令则不工作。要还原它用：<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">chmod 0755 /downloads</div></pre></td></tr></table></figure><p></p><h4 id="在vim中用密码保护文件"><a href="#在vim中用密码保护文件" class="headerlink" title="在vim中用密码保护文件"></a>在vim中用密码保护文件</h4><p>害怕root用户或者其他人偷窥你的个人文件么？尝试在vim中用密码保护，输入：<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">vim +X filename</div></pre></td></tr></table></figure><p></p><p>或者，在退出vim之前使用:X 命令来加密你的文件，vim会提示你输入一个密码。</p><h4 id="清除屏幕上的乱码"><a href="#清除屏幕上的乱码" class="headerlink" title="清除屏幕上的乱码"></a>清除屏幕上的乱码</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">reset</div></pre></td></tr></table></figure><h4 id="在Linux系统中显示已知的用户信息"><a href="#在Linux系统中显示已知的用户信息" class="headerlink" title="在Linux系统中显示已知的用户信息"></a>在Linux系统中显示已知的用户信息</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">lslogins</div></pre></td></tr></table></figure><h4 id="如何删除意外在当前文件夹下解压的文件？"><a href="#如何删除意外在当前文件夹下解压的文件？" class="headerlink" title="如何删除意外在当前文件夹下解压的文件？"></a>如何删除意外在当前文件夹下解压的文件？</h4><p>我意外在/var/www/html/而不是/home/projects/www/current下解压了一个tarball。它搞乱了/var/www/html下的文件，你甚至不知道哪些是误解压出来的。最简单修复这个问题的方法是：<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">cd /var/www/html/</div><div class="line">/bin/rm -f &quot;$(tar ztf /path/to/file.tar.gz)&quot;</div></pre></td></tr></table></figure><p></p><h4 id="跳转cd"><a href="#跳转cd" class="headerlink" title="跳转cd"></a>跳转cd</h4><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">#快速回到根目录：</span></div><div class="line">cd</div><div class="line"><span class="comment">#返回上一个跳转前路径：</span></div><div class="line">cd -</div></pre></td></tr></table></figure><h4 id="将文件复制到多个目录中"><a href="#将文件复制到多个目录中" class="headerlink" title="将文件复制到多个目录中"></a>将文件复制到多个目录中</h4><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">#不必运行：</span></div><div class="line"><span class="comment">#cp /path/to/file /usr/dir1</span></div><div class="line"><span class="comment">#cp /path/to/file /var/dir2</span></div><div class="line"><span class="comment">#cp /path/to/file /nas/dir3</span></div><div class="line"><span class="comment">#只需要运行下面的命令来复制文件到多个目录中：</span></div><div class="line"><span class="keyword">echo</span> /usr/dir1 /<span class="keyword">var</span>/dir2 /nas/dir3 | xargs -n <span class="number">1</span> cp -v /path/to/file</div></pre></td></tr></table></figure><h4 id="快速找出两个目录的不同"><a href="#快速找出两个目录的不同" class="headerlink" title="快速找出两个目录的不同"></a>快速找出两个目录的不同</h4><p>diff命令会按行比较文件。但是它也可以比较两个目录：<br></p><figure class="highlight php"><table><tr><td class="code"><pre><div class="line"><span class="comment">#ls -l /tmp/r</span></div><div class="line"><span class="comment">#ls -l /tmp/s</span></div><div class="line"><span class="comment"># 使用 diff 比较两个文件夹</span></div><div class="line">diff /tmp/r/ /tmp/s/</div></pre></td></tr></table></figure><p></p></div><footer><div class="clearfix"></div></footer></article></div></div><footer id="footer"><div class="copyright">&copy; 2017 <a href="/">(^_^)</a></div><div class="theme-copyright">Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a> | Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a></div><div class="clearfix"></div></footer><script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script><script src="/js/all.js"></script></body><!-- rebuild by neat -->