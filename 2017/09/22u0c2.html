<!-- build time:Tue Dec 05 2017 22:16:20 GMT+0800 (中国标准时间) --><!DOCTYPE HTML><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><div id="squ-side"><div class="squ-sidec"><div style="text-align:left"><a href="javascript:scroll(0,0)"><font size="6">▲</font></a> <a href="/archives/index.html"><i class="icon-copy icon-2x"></i></a> <a href="/index.html"><i class="icon-home icon-2x"></i></a></div></div><div class="squ-sideb"><div class="b">?</div></div></div><title>域名 TTL 设置 | 唔多阁</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="author" content="(^_^)"><meta name="description" content="域名 TTL设置多少时间好?"><meta name="description" content="域名 TTL设置多少时间好?"><meta property="og:type" content="article"><meta property="og:title" content="域名 TTL 设置"><meta property="og:url" content="https://www.233666.org/2017/09/22u0c2.html"><meta property="og:site_name" content="唔多阁"><meta property="og:description" content="域名 TTL设置多少时间好?"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2017-10-11T03:44:28.696Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="域名 TTL 设置"><meta name="twitter:description" content="域名 TTL设置多少时间好?"><link rel="icon" type="image/x-icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css"></head></html><body><div class="wrapper"><header id="header"><div class="title"><h1><a href="/">唔多阁</a></h1><p><a href="/">(学习笔记,备忘,纯属复制粘贴,无技术含量)</a></p></div><nav class="nav"><ul></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div class="content"><article class="post"><header><div class="icon"></div><a href="/2017/09/22u0c2.html"><time datetime="2017-09-22T04:00:17.000Z">2017-09-22</time></a><h1 class="title">域名 TTL 设置</h1></header><div class="entry"><h3 id="域名-TTL设置多少时间好"><a href="#域名-TTL设置多少时间好" class="headerlink" title="域名 TTL设置多少时间好?"></a>域名 TTL设置多少时间好?<a id="more"></a></h3><p>TTL是递归DNS缓存域名解析的时间，以秒为单位。过期了递归DNS就会去找权威DNS重新查询。<br>（什么是TTL值？）如果你的域名解析改动较频繁，比如使用动态IP等，就应该把TTL尽量设小；<br>如果你的域名解析不是经常改动，一般使用解析商提供的默认值即可（CloudXNS默认给用户解析记录提供的是600）；<br>如果你的域名几乎不改动且访问量比较大，建议可以设长一点，可以一定程度上减少网民浏览时网络链路中的域名解析时间。</p><p>譬如设置域邮箱初期,要测试验证添加的解析,当然是设置时间越短越好,等都设置验证完了,就可以重新把他设置为一个你认为合理的时间.</p><hr><p>域名解析的TTL只应该设置为多少合适呢，下面有两个建议，你可以结合自己参考一下：</p><p>一.增大TTL值，以节约域名解析时间，给网站访问加速。</p><p>一般情况下，域名的各种记录是极少更改的，很可能几个月、几年内都不会有什么变化。你可以增大域名记录的TTL值让记录在各地DNS服务器中缓存的时间加长，这样在更长的一段时间内，访问这个网站时，本地ISP的DNS服务器就不需要向域名的NS服务器发出解析请求，而直接从缓存中返回域名解析记录。</p><p>国内和国际上很多平台的TTL值都是以秒为单位的，很多的默认值都是3600，也就是默认缓存1小时，这个值实在有点小了，难道会有人一个小时就改一次域名记录吗？你可以根据自己的需要把这个值适当的扩大，例如要缓存一天就设置成86400。</p><p>二.减小TTL值，减少更换空间时的不可访问时间。</p><p>更换空间因为TTL缓存的问题，新的域名记录，在有的地方可能生效了，有的地方可能等上一两天甚至更久才生效。结果就是有的人访问到了新服务器，有的人访问到了旧服务器。如果原来的域名TTL值设置的小，各地的ISP域名缓存服务器服务器就会很快的访问你域名的权威DNS解析服务器，尽快把你域名的DNS解析IP返回给查询者。</p><p>这就是说如果想要解析速度，各地ISP的DNS服务器缓存你的域名，你就需要把TTL值设置大一些，如果想让域名更换空间或者IP后能尽快解析到新的IP上，就需要把TTL值设置小一些。</p><p>对于IP地址相对固定，或短期内不会变更IP地址的用户来说TTL值设置的大些如几个小时或更大些为宜。调大TTL值可以显著的提高域名的解析稳定性和速度。而对于近期有计划变更IP地址的用户需要提前把TTL值改小，以便使缓存在世界各地DNS服务器上的旧域名记录迅速过期，等IP地址固定下来后再把TTL值改大。</p><p>TTL就是 Time-to-live的缩写，用来表明域名和IP对应关系在多长时间内有效，过了有效期就要重新去查询。<br>TTL时间越长，缓存时间越长，更新越不容易及时生效。<br>TTL设置的小一些，生效时间就会快一些。</p><hr><h4 id="DNS各项域名解析记录"><a href="#DNS各项域名解析记录" class="headerlink" title="DNS各项域名解析记录"></a>DNS各项域名解析记录</h4><p>A记录： 将域名指向一个IPv4地址（例如：100.100.100.100），需要增加A记录</p><p>CNAME记录： 如果将域名指向一个域名，实现与被指向域名相同的访问效果，需要增加CNAME记录。这个域名一般是主机服务商提供的一个域名</p><p>MX记录： 建立电子邮箱服务，将指向邮件服务器地址，需要设置MX记录。建立邮箱时，一般会根据邮箱服务商提供的MX记录填写此记录</p><p>NS记录： 域名解析服务器记录，如果要将子域名指定某个域名服务器来解析，需要设置NS记录</p><p>TXT记录： 可任意填写，可为空。一般做一些验证记录时会使用此项，如：做SPF（反垃圾邮件）记录</p><p>AAAA记录： 将主机名（或域名）指向一个IPv6地址（例如：ff03:0:0:0:0:0:0:c1），需要添加AAAA记录</p><p>SRV记录： 添加服务记录服务器服务记录时会添加此项，SRV记录了哪台计算机提供了哪个服务。格式为：服务的名字.协议的类型（例如：_example-server._tcp）。</p><p>SOA记录： SOA叫做起始授权机构记录，NS用于标识多台域名解析服务器，SOA记录用于在众多NS记录中那一台是主服务器</p><p>PTR记录： PTR记录是A记录的逆向记录，又称做IP反查记录或指针记录，负责将IP反向解析为域名</p><p>显性URL转发记录： 将域名指向一个http(s)协议地址，访问域名时，自动跳转至目标地址。例如：将www.liuht.cn显性转发到www.itbilu.com后，访问www.liuht.cn时，地址栏显示的地址为：www.itbilu.com。</p><p>隐性UR转发记录L： 将域名指向一个http(s)协议地址，访问域名时，自动跳转至目标地址，隐性转发会隐藏真实的目标地址。例如：将www.liuht.cn显性转发到www.itbilu.com后，访问www.liuht.cn时，地址栏显示的地址仍然是：www.liuht.cn。</p></div><footer><div class="clearfix"></div></footer></article><div class="comments" id="comments"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({av:AV,el:".comments",verify:!0,guest_info:["nick","mail"],app_id:"58Gw4yI8F0oqW6c8XmlSf41L-gzGzoHsz",app_key:"x9x1YOCqBJlFS4cCmNEQNhgg",placeholder:"--有问题请在此留言--"})</script></div></div><footer id="footer"><div class="copyright">&copy; 2017 <a href="/">(^_^)</a></div><div class="theme-copyright"><a href="javascript:scroll(0,0)">返回顶部</a></div><div class="clearfix"></div></footer><script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script><script src="/js/all.js"></script><script type="text/javascript">$(document).ready(function(){$(document).on("click",".fold_hider",function(){$(">.fold",this.parentNode).slideToggle(),$(">:first",this).toggleClass("open")}),$("div.fold").css("display","none")})</script></body><!-- rebuild by neat -->